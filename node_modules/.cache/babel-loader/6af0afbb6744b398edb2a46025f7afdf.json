{"ast":null,"code":"var _jsxFileName = \"/Users/meganjevin/Desktop/Code/character-builder/src/app/components/class.tsx\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport styled from 'styled-components';\nimport { useAppDispatch } from '../../helpers/hooks';\nimport { commonActions } from '../../store/slices/common';\nimport { useAllClasses, useDetailedClass } from '../../store/selectors/common';\nimport { TEXT_COLOR_PRIMARY, TEXT_COLOR_SECONDARY } from '../styles';\nimport { handleRandomise } from '../../helpers/randomise';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst StyledStep = styled.div`\n  text-align: center;\n`;\n_c = StyledStep;\nconst StyledStepsHeader = styled.h3`\n  text-align: center;\n  margin: 12px 0;\n`;\n_c2 = StyledStepsHeader;\nconst StyledStepsSubheader = styled.h5`\n  text-align: center;\n  margin: 12px 0;\n`;\n_c3 = StyledStepsSubheader;\nconst StyledSelect = styled.select`\n  width: 200px;\n  height: 30px;\n  border-radius: 5px;\n  margin: 12px 0;\n`;\n_c4 = StyledSelect;\nconst StyledRandomiseButton = styled.a`\n  font-size: inherit;\n  color: ${TEXT_COLOR_SECONDARY};\n  &:hover {\n    cursor: pointer;\n    color: ${TEXT_COLOR_PRIMARY};\n  }\n`;\n_c5 = StyledRandomiseButton;\nexport const Class = props => {\n  _s();\n\n  var _allClasses$results;\n\n  const dispatch = useAppDispatch();\n  const allClasses = useAllClasses();\n  const detailedClass = useDetailedClass();\n  const [allSubClasses, setAllSubClasses] = React.useState([]);\n  const [selectedClass, setSelectedClass] = React.useState(undefined);\n  const [selectedSubClass, setSelectedSubClass] = React.useState(undefined);\n\n  const handleSelectedSubClass = index => {\n    const selectedSubClass = allSubClasses === null || allSubClasses === void 0 ? void 0 : allSubClasses.filter(subClass => subClass.index === index);\n\n    if (selectedSubClass && selectedSubClass.length > 0) {\n      setSelectedSubClass({\n        index: selectedSubClass[0].index,\n        name: selectedSubClass[0].name\n      });\n    }\n  };\n\n  const handleRandomClass = () => {\n    if (allClasses === null || allClasses === void 0 ? void 0 : allClasses.results) {\n      const randomClass = handleRandomise(allClasses === null || allClasses === void 0 ? void 0 : allClasses.results);\n      setSelectedClass({\n        index: randomClass.index,\n        name: randomClass.name\n      });\n    }\n  };\n\n  const handleSelectedClass = index => {\n    const selectedClass = allClasses === null || allClasses === void 0 ? void 0 : allClasses.results.filter(item => item.index === index);\n\n    if (selectedClass && selectedClass.length > 0) {\n      setSelectedClass({\n        index: selectedClass[0].index,\n        name: selectedClass[0].name\n      });\n      dispatch(commonActions.getClassDetails({\n        index: selectedClass[0].index\n      }));\n    }\n  };\n\n  React.useEffect(() => {\n    dispatch(commonActions.getAllClasses());\n  }, []);\n  React.useEffect(() => {\n    if (detailedClass === null || detailedClass === void 0 ? void 0 : detailedClass.subclasses) {\n      setAllSubClasses(detailedClass === null || detailedClass === void 0 ? void 0 : detailedClass.subclasses);\n    }\n  }, [detailedClass]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(StyledStep, {\n      children: [/*#__PURE__*/_jsxDEV(StyledStepsHeader, {\n        children: \"Step Two: Class\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StyledStepsSubheader, {\n        children: [\"Select a class or\", ' ', /*#__PURE__*/_jsxDEV(StyledRandomiseButton, {\n          onClick: () => handleRandomClass(),\n          children: \"randomise\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), ' ', \"it.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StyledSelect, {\n        value: selectedClass === null || selectedClass === void 0 ? void 0 : selectedClass.index,\n        ...props.register('class'),\n        onChange: e => {\n          handleSelectedClass(e.target.value);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          selected: true,\n          disabled: true,\n          children: \"- - - -\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), allClasses && (allClasses === null || allClasses === void 0 ? void 0 : (_allClasses$results = allClasses.results) === null || _allClasses$results === void 0 ? void 0 : _allClasses$results.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: item.index,\n          children: item.name\n        }, item.index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 15\n        }, this)))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), props.errors.class && /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"This field is required\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 32\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), allSubClasses && allSubClasses.length > 0 && /*#__PURE__*/_jsxDEV(StyledStep, {\n      children: [/*#__PURE__*/_jsxDEV(StyledStepsSubheader, {\n        children: \"Select a subclass.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(StyledSelect, {\n        value: selectedSubClass === null || selectedSubClass === void 0 ? void 0 : selectedSubClass.name,\n        ...props.register('subClass'),\n        onChange: e => {\n          handleSelectedSubClass(e.target.value);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          selected: true,\n          disabled: true,\n          children: \"- - - -\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 13\n        }, this), allSubClasses.map(subClass => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: subClass.index,\n          children: subClass.name\n        }, subClass.index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }, this), props.errors.subClass && /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"This field is required\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 37\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Class, \"RiW+dbGyBXKEji59XarS5IIAnpA=\", false, function () {\n  return [useAppDispatch, useAllClasses, useDetailedClass];\n});\n\n_c6 = Class;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"StyledStep\");\n$RefreshReg$(_c2, \"StyledStepsHeader\");\n$RefreshReg$(_c3, \"StyledStepsSubheader\");\n$RefreshReg$(_c4, \"StyledSelect\");\n$RefreshReg$(_c5, \"StyledRandomiseButton\");\n$RefreshReg$(_c6, \"Class\");","map":{"version":3,"sources":["/Users/meganjevin/Desktop/Code/character-builder/src/app/components/class.tsx"],"names":["React","styled","useAppDispatch","commonActions","useAllClasses","useDetailedClass","TEXT_COLOR_PRIMARY","TEXT_COLOR_SECONDARY","handleRandomise","StyledStep","div","StyledStepsHeader","h3","StyledStepsSubheader","h5","StyledSelect","select","StyledRandomiseButton","a","Class","props","dispatch","allClasses","detailedClass","allSubClasses","setAllSubClasses","useState","selectedClass","setSelectedClass","undefined","selectedSubClass","setSelectedSubClass","handleSelectedSubClass","index","filter","subClass","length","name","handleRandomClass","results","randomClass","handleSelectedClass","item","getClassDetails","useEffect","getAllClasses","subclasses","register","e","target","value","map","errors","class"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport styled from 'styled-components';\nimport { DeepMap, FieldError, UseFormRegister } from 'react-hook-form';\nimport { useAppDispatch } from '../../helpers/hooks';\nimport { commonActions } from '../../store/slices/common';\nimport { useAllClasses, useDetailedClass } from '../../store/selectors/common';\nimport { TEXT_COLOR_PRIMARY, TEXT_COLOR_SECONDARY } from '../styles';\nimport { handleRandomise } from '../../helpers/randomise';\nimport { APIReference, CommonModel, FormInputs } from '../../types';\n\ninterface ClassProps {\n  register: UseFormRegister<FormInputs>;\n  errors: DeepMap<FormInputs, FieldError>;\n}\n\nconst StyledStep = styled.div`\n  text-align: center;\n`;\n\nconst StyledStepsHeader = styled.h3`\n  text-align: center;\n  margin: 12px 0;\n`;\n\nconst StyledStepsSubheader = styled.h5`\n  text-align: center;\n  margin: 12px 0;\n`;\n\nconst StyledSelect = styled.select`\n  width: 200px;\n  height: 30px;\n  border-radius: 5px;\n  margin: 12px 0;\n`;\n\nconst StyledRandomiseButton = styled.a`\n  font-size: inherit;\n  color: ${TEXT_COLOR_SECONDARY};\n  &:hover {\n    cursor: pointer;\n    color: ${TEXT_COLOR_PRIMARY};\n  }\n`;\n\nexport const Class: React.FC<ClassProps> = (props) => {\n  const dispatch = useAppDispatch();\n  const allClasses = useAllClasses();\n  const detailedClass = useDetailedClass();\n  const [allSubClasses, setAllSubClasses] = React.useState<\n    CommonModel[] | undefined\n  >([]);\n  const [selectedClass, setSelectedClass] = React.useState<\n    APIReference | undefined\n  >(undefined);\n  const [selectedSubClass, setSelectedSubClass] = React.useState<\n    APIReference | undefined\n  >(undefined);\n\n  const handleSelectedSubClass = (index: string) => {\n    const selectedSubClass = allSubClasses?.filter(\n      (subClass) => subClass.index === index\n    );\n    if (selectedSubClass && selectedSubClass.length > 0) {\n      setSelectedSubClass({\n        index: selectedSubClass[0].index,\n        name: selectedSubClass[0].name,\n      });\n    }\n  };\n\n  const handleRandomClass = () => {\n    if (allClasses?.results) {\n      const randomClass = handleRandomise(allClasses?.results);\n      setSelectedClass({ index: randomClass.index, name: randomClass.name });\n    }\n  };\n\n  const handleSelectedClass = (index: string) => {\n    const selectedClass = allClasses?.results.filter(\n      (item) => item.index === index\n    );\n    if (selectedClass && selectedClass.length > 0) {\n      setSelectedClass({\n        index: selectedClass[0].index,\n        name: selectedClass[0].name,\n      });\n      dispatch(\n        commonActions.getClassDetails({ index: selectedClass[0].index })\n      );\n    }\n  };\n\n  React.useEffect(() => {\n    dispatch(commonActions.getAllClasses());\n  }, []);\n\n  React.useEffect(() => {\n    if (detailedClass?.subclasses) {\n      setAllSubClasses(detailedClass?.subclasses);\n    }\n  }, [detailedClass]);\n\n  return (\n    <>\n      <StyledStep>\n        <StyledStepsHeader>Step Two: Class</StyledStepsHeader>\n        <StyledStepsSubheader>\n          Select a class or{' '}\n          <StyledRandomiseButton onClick={() => handleRandomClass()}>\n            randomise\n          </StyledRandomiseButton>{' '}\n          it.\n        </StyledStepsSubheader>\n        <StyledSelect\n          value={selectedClass?.index}\n          {...props.register('class')}\n          onChange={(e) => {\n            handleSelectedClass(e.target.value);\n          }}\n        >\n          <option value=\"\" selected disabled>\n            - - - -\n          </option>\n          {allClasses &&\n            allClasses?.results?.map((item) => (\n              <option key={item.index} value={item.index}>\n                {item.name}\n              </option>\n            ))}\n        </StyledSelect>\n\n        {props.errors.class && <span>This field is required</span>}\n      </StyledStep>\n      {allSubClasses && allSubClasses.length > 0 && (\n        <StyledStep>\n          <StyledStepsSubheader>Select a subclass.</StyledStepsSubheader>\n          <StyledSelect\n            value={selectedSubClass?.name}\n            {...props.register('subClass')}\n            onChange={(e) => {\n              handleSelectedSubClass(e.target.value);\n            }}\n          >\n            <option value=\"\" selected disabled>\n              - - - -\n            </option>\n            {allSubClasses.map((subClass) => (\n              <option key={subClass.index} value={subClass.index}>\n                {subClass.name}\n              </option>\n            ))}\n          </StyledSelect>\n\n          {props.errors.subClass && <span>This field is required</span>}\n        </StyledStep>\n      )}\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}