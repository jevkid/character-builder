{"ast":null,"code":"var _jsxFileName = \"/Users/meganjevin/Desktop/Code/character-builder/src/app/components/class.tsx\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport { useAppDispatch } from '../../helpers/hooks';\nimport { commonActions } from '../../store/slices/common';\nimport { useAllClasses, useDetailedClass } from '../../store/selectors/common';\nimport { StyledContainer, StyledStepsHeader, StyledDetailHeader, StyledStepsSubheader, StyledSelect, StyledRandomiseButton, StyledStepContainer, StyledDetails, StyledP, StyledList, StyledListItem, StyledButtonContainer, StyledStepButton, StyledRow, StyledColumn } from '../styles';\nimport { handleRandomise } from '../../helpers/randomise';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Class = props => {\n  _s();\n\n  var _allClasses$results;\n\n  const dispatch = useAppDispatch();\n  const allClasses = useAllClasses();\n  const selectedClass = 'changeme';\n  const selectedSubClass = 'changeme';\n  const detailedClass = useDetailedClass();\n  const [allSubClasses, setAllSubClasses] = React.useState([]);\n  const [displayClassDetails, setDisplayClassDetails] = React.useState(false); // Need to set this to state so that it is accessible anywhere\n\n  const handleSelectedSubClass = index => {\n    const selectedSubClass = allSubClasses === null || allSubClasses === void 0 ? void 0 : allSubClasses.filter(subClass => subClass.index === index);\n\n    if (selectedSubClass && selectedSubClass.length > 0) {\n      props.setFieldValue('subClass', selectedSubClass[0].index);\n    }\n  };\n\n  const handleRandomClass = () => {\n    if (allClasses === null || allClasses === void 0 ? void 0 : allClasses.results) {\n      const randomClass = handleRandomise(allClasses === null || allClasses === void 0 ? void 0 : allClasses.results);\n      props.setFieldValue('class', randomClass.index);\n      dispatch(commonActions.getClassDetails({\n        index: randomClass.index\n      }));\n    }\n  };\n\n  const handleSelectedClass = index => {\n    const selectedClass = allClasses === null || allClasses === void 0 ? void 0 : allClasses.results.filter(item => item.index === index);\n\n    if (selectedClass && selectedClass.length > 0) {\n      props.setFieldValue('class', selectedClass[0].index);\n      dispatch(commonActions.getClassDetails({\n        index: selectedClass[0].index\n      }));\n    }\n  };\n\n  React.useEffect(() => {\n    dispatch(commonActions.getAllClasses());\n  }, [dispatch]);\n  React.useEffect(() => {\n    if (detailedClass === null || detailedClass === void 0 ? void 0 : detailedClass.subclasses) {\n      setAllSubClasses(detailedClass === null || detailedClass === void 0 ? void 0 : detailedClass.subclasses);\n      setDisplayClassDetails(true);\n    } // from here, we need to get the subClasses object from the detailed class response and use that to populate the subClasses dropdown\n\n  }, [detailedClass]);\n  return /*#__PURE__*/_jsxDEV(StyledStepContainer, {\n    children: [/*#__PURE__*/_jsxDEV(StyledContainer, {\n      children: [/*#__PURE__*/_jsxDEV(StyledStepsHeader, {\n        children: \"Step Two: Class\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StyledStepsSubheader, {\n        children: [\"Select a class or\", ' ', /*#__PURE__*/_jsxDEV(StyledRandomiseButton, {\n          onClick: () => handleRandomClass(),\n          children: \"randomise\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), ' ', \"it.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StyledSelect, {\n        component: \"select\",\n        value: selectedClass,\n        name: \"class\",\n        onChange: e => {\n          handleSelectedClass(e.target.value);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          disabled: true,\n          children: \"- - - -\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), allClasses && (allClasses === null || allClasses === void 0 ? void 0 : (_allClasses$results = allClasses.results) === null || _allClasses$results === void 0 ? void 0 : _allClasses$results.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: item.index,\n          children: item.name\n        }, item.index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 15\n        }, this)))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), allSubClasses && allSubClasses.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(StyledStepsSubheader, {\n          children: \"Select a subclass.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(StyledSelect, {\n          component: \"select\",\n          value: selectedSubClass,\n          name: \"subClass\",\n          onChange: e => {\n            handleSelectedSubClass(e.target.value);\n          },\n          children: allSubClasses.map(subClass => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: subClass.index,\n            children: subClass.name\n          }, subClass.index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(StyledButtonContainer, {\n        children: [/*#__PURE__*/_jsxDEV(StyledStepButton, {\n          onClick: props.handleStepBack,\n          children: \"\\u2190 Previous: Race\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StyledStepButton, {\n          onClick: props.handleStepForward,\n          disabled: !selectedClass,\n          children: \"Next: Ability scores \\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), detailedClass && displayClassDetails && /*#__PURE__*/_jsxDEV(StyledColumn, {\n      children: [/*#__PURE__*/_jsxDEV(StyledDetailHeader, {\n        children: detailedClass.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(StyledRow, {\n        children: [/*#__PURE__*/_jsxDEV(StyledDetails, {\n          children: [/*#__PURE__*/_jsxDEV(StyledP, {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Hit points: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 17\n            }, this), detailedClass.hit_die]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 15\n          }, this), detailedClass.proficiencies.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(StyledP, {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Proficiencies\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 21\n              }, this), \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(StyledList, {\n              children: detailedClass.proficiencies.map(proficiency => /*#__PURE__*/_jsxDEV(StyledListItem, {\n                children: proficiency.name\n              }, proficiency.index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(StyledP, {\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Proficiency choices:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 15\n          }, this), detailedClass.proficiency_choices.length > 0 && detailedClass.proficiency_choices.map((choice, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(StyledP, {\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                children: [\"Choose \", choice.choose, \":\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(StyledList, {\n              children: choice.from.map(item => /*#__PURE__*/_jsxDEV(StyledListItem, {\n                children: item.name\n              }, item.index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 21\n            }, this)]\n          }, `${choice.type}-${index}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(StyledDetails, {\n          children: [detailedClass.starting_equipment.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(StyledP, {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Starting equipment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 21\n              }, this), \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(StyledList, {\n              children: detailedClass.starting_equipment.map(item => /*#__PURE__*/_jsxDEV(StyledListItem, {\n                children: item.equipment.name\n              }, item.equipment.index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(StyledP, {\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Starting equipment choices:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledP, {\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              children: \"Choose 1:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledList, {\n            children: detailedClass.starting_equipment_options.length > 0 && detailedClass.starting_equipment_options.map(option => option.from.map(item => {\n              var _item$equipment, _item$equipment2;\n\n              return (item === null || item === void 0 ? void 0 : (_item$equipment = item.equipment) === null || _item$equipment === void 0 ? void 0 : _item$equipment.name) && /*#__PURE__*/_jsxDEV(StyledListItem, {\n                children: item === null || item === void 0 ? void 0 : (_item$equipment2 = item.equipment) === null || _item$equipment2 === void 0 ? void 0 : _item$equipment2.name\n              }, item.equipment.index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 27\n              }, this);\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this), detailedClass.saving_throws.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(StyledP, {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Saving throws\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 21\n              }, this), \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(StyledList, {\n              children: detailedClass.saving_throws.map(item => /*#__PURE__*/_jsxDEV(StyledListItem, {\n                children: item.name\n              }, item.index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Class, \"V7YPvZDv5NzdDGaoBEJegiSYev4=\", false, function () {\n  return [useAppDispatch, useAllClasses, useDetailedClass];\n});\n\n_c = Class;\n\nvar _c;\n\n$RefreshReg$(_c, \"Class\");","map":{"version":3,"sources":["/Users/meganjevin/Desktop/Code/character-builder/src/app/components/class.tsx"],"names":["React","useAppDispatch","commonActions","useAllClasses","useDetailedClass","StyledContainer","StyledStepsHeader","StyledDetailHeader","StyledStepsSubheader","StyledSelect","StyledRandomiseButton","StyledStepContainer","StyledDetails","StyledP","StyledList","StyledListItem","StyledButtonContainer","StyledStepButton","StyledRow","StyledColumn","handleRandomise","Class","props","dispatch","allClasses","selectedClass","selectedSubClass","detailedClass","allSubClasses","setAllSubClasses","useState","displayClassDetails","setDisplayClassDetails","handleSelectedSubClass","index","filter","subClass","length","setFieldValue","handleRandomClass","results","randomClass","getClassDetails","handleSelectedClass","item","useEffect","getAllClasses","subclasses","e","target","value","map","name","handleStepBack","handleStepForward","hit_die","proficiencies","proficiency","proficiency_choices","choice","choose","from","type","starting_equipment","equipment","starting_equipment_options","option","saving_throws"],"mappings":";;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,cAAT,QAA+B,qBAA/B;AACA,SAASC,aAAT,QAA8B,2BAA9B;AACA,SAASC,aAAT,EAAwBC,gBAAxB,QAAgD,8BAAhD;AACA,SACEC,eADF,EAEEC,iBAFF,EAGEC,kBAHF,EAIEC,oBAJF,EAKEC,YALF,EAMEC,qBANF,EAOEC,mBAPF,EAQEC,aARF,EASEC,OATF,EAUEC,UAVF,EAWEC,cAXF,EAYEC,qBAZF,EAaEC,gBAbF,EAcEC,SAdF,EAeEC,YAfF,QAgBO,WAhBP;AAiBA,SAASC,eAAT,QAAgC,yBAAhC;;;AAGA,OAAO,MAAMC,KAAsC,GAAIC,KAAD,IAAW;AAAA;;AAAA;;AAC/D,QAAMC,QAAQ,GAAGtB,cAAc,EAA/B;AACA,QAAMuB,UAAU,GAAGrB,aAAa,EAAhC;AACA,QAAMsB,aAAa,GAAG,UAAtB;AACA,QAAMC,gBAAgB,GAAG,UAAzB;AACA,QAAMC,aAAa,GAAGvB,gBAAgB,EAAtC;AACA,QAAM,CAACwB,aAAD,EAAgBC,gBAAhB,IAAoC7B,KAAK,CAAC8B,QAAN,CAExC,EAFwC,CAA1C;AAGA,QAAM,CAACC,mBAAD,EAAsBC,sBAAtB,IAAgDhC,KAAK,CAAC8B,QAAN,CAAe,KAAf,CAAtD,CAT+D,CAW/D;;AACA,QAAMG,sBAAsB,GAAIC,KAAD,IAAmB;AAChD,UAAMR,gBAAgB,GAAGE,aAAH,aAAGA,aAAH,uBAAGA,aAAa,CAAEO,MAAf,CACtBC,QAAD,IAAcA,QAAQ,CAACF,KAAT,KAAmBA,KADV,CAAzB;;AAGA,QAAIR,gBAAgB,IAAIA,gBAAgB,CAACW,MAAjB,GAA0B,CAAlD,EAAqD;AACnDf,MAAAA,KAAK,CAACgB,aAAN,CAAoB,UAApB,EAAgCZ,gBAAgB,CAAC,CAAD,CAAhB,CAAoBQ,KAApD;AACD;AACF,GAPD;;AASA,QAAMK,iBAAiB,GAAG,MAAM;AAC9B,QAAIf,UAAJ,aAAIA,UAAJ,uBAAIA,UAAU,CAAEgB,OAAhB,EAAyB;AACvB,YAAMC,WAAW,GAAGrB,eAAe,CAACI,UAAD,aAACA,UAAD,uBAACA,UAAU,CAAEgB,OAAb,CAAnC;AACAlB,MAAAA,KAAK,CAACgB,aAAN,CAAoB,OAApB,EAA6BG,WAAW,CAACP,KAAzC;AACAX,MAAAA,QAAQ,CAACrB,aAAa,CAACwC,eAAd,CAA8B;AAAER,QAAAA,KAAK,EAAEO,WAAW,CAACP;AAArB,OAA9B,CAAD,CAAR;AACD;AACF,GAND;;AAQA,QAAMS,mBAAmB,GAAIT,KAAD,IAAmB;AAC7C,UAAMT,aAAa,GAAGD,UAAH,aAAGA,UAAH,uBAAGA,UAAU,CAAEgB,OAAZ,CAAoBL,MAApB,CACnBS,IAAD,IAAUA,IAAI,CAACV,KAAL,KAAeA,KADL,CAAtB;;AAGA,QAAIT,aAAa,IAAIA,aAAa,CAACY,MAAd,GAAuB,CAA5C,EAA+C;AAC7Cf,MAAAA,KAAK,CAACgB,aAAN,CAAoB,OAApB,EAA6Bb,aAAa,CAAC,CAAD,CAAb,CAAiBS,KAA9C;AACAX,MAAAA,QAAQ,CACNrB,aAAa,CAACwC,eAAd,CAA8B;AAAER,QAAAA,KAAK,EAAET,aAAa,CAAC,CAAD,CAAb,CAAiBS;AAA1B,OAA9B,CADM,CAAR;AAGD;AACF,GAVD;;AAYAlC,EAAAA,KAAK,CAAC6C,SAAN,CAAgB,MAAM;AACpBtB,IAAAA,QAAQ,CAACrB,aAAa,CAAC4C,aAAd,EAAD,CAAR;AACD,GAFD,EAEG,CAACvB,QAAD,CAFH;AAIAvB,EAAAA,KAAK,CAAC6C,SAAN,CAAgB,MAAM;AACpB,QAAIlB,aAAJ,aAAIA,aAAJ,uBAAIA,aAAa,CAAEoB,UAAnB,EAA+B;AAC7BlB,MAAAA,gBAAgB,CAACF,aAAD,aAACA,aAAD,uBAACA,aAAa,CAAEoB,UAAhB,CAAhB;AACAf,MAAAA,sBAAsB,CAAC,IAAD,CAAtB;AACD,KAJmB,CAKpB;;AACD,GAND,EAMG,CAACL,aAAD,CANH;AAQA,sBACE,QAAC,mBAAD;AAAA,4BACE,QAAC,eAAD;AAAA,8BACE,QAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,oBAAD;AAAA,wCACoB,GADpB,eAEE,QAAC,qBAAD;AAAuB,UAAA,OAAO,EAAE,MAAMY,iBAAiB,EAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,EAI2B,GAJ3B;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,eASE,QAAC,YAAD;AACE,QAAA,SAAS,EAAC,QADZ;AAEE,QAAA,KAAK,EAAEd,aAFT;AAGE,QAAA,IAAI,EAAC,OAHP;AAIE,QAAA,QAAQ,EAAGuB,CAAD,IAAY;AACpBL,UAAAA,mBAAmB,CAACK,CAAC,CAACC,MAAF,CAASC,KAAV,CAAnB;AACD,SANH;AAAA,gCAQE;AAAQ,UAAA,KAAK,EAAC,EAAd;AAAiB,UAAA,QAAQ,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBARF,EAWG1B,UAAU,KACTA,UADS,aACTA,UADS,8CACTA,UAAU,CAAEgB,OADH,wDACT,oBAAqBW,GAArB,CAA0BP,IAAD,iBACvB;AAAyB,UAAA,KAAK,EAAEA,IAAI,CAACV,KAArC;AAAA,oBACGU,IAAI,CAACQ;AADR,WAAaR,IAAI,CAACV,KAAlB;AAAA;AAAA;AAAA;AAAA,gBADF,CADS,CAXb;AAAA;AAAA;AAAA;AAAA;AAAA,cATF,EA4BGN,aAAa,IAAIA,aAAa,CAACS,MAAd,GAAuB,CAAxC,iBACC;AAAA,gCACE,QAAC,oBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,YAAD;AACE,UAAA,SAAS,EAAC,QADZ;AAEE,UAAA,KAAK,EAAEX,gBAFT;AAGE,UAAA,IAAI,EAAC,UAHP;AAIE,UAAA,QAAQ,EAAGsB,CAAD,IAAY;AACpBf,YAAAA,sBAAsB,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV,CAAtB;AACD,WANH;AAAA,oBAQGtB,aAAa,CAACuB,GAAd,CAAmBf,QAAD,iBACjB;AAA6B,YAAA,KAAK,EAAEA,QAAQ,CAACF,KAA7C;AAAA,sBACGE,QAAQ,CAACgB;AADZ,aAAahB,QAAQ,CAACF,KAAtB;AAAA;AAAA;AAAA;AAAA,kBADD;AARH;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA,sBA7BJ,eA+CE,QAAC,qBAAD;AAAA,gCACE,QAAC,gBAAD;AAAkB,UAAA,OAAO,EAAEZ,KAAK,CAAC+B,cAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE,QAAC,gBAAD;AACE,UAAA,OAAO,EAAE/B,KAAK,CAACgC,iBADjB;AAEE,UAAA,QAAQ,EAAE,CAAC7B,aAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,cA/CF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EA4DGE,aAAa,IAAII,mBAAjB,iBACC,QAAC,YAAD;AAAA,8BACE,QAAC,kBAAD;AAAA,kBAAqBJ,aAAa,CAACyB;AAAnC;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,SAAD;AAAA,gCACE,QAAC,aAAD;AAAA,kCACE,QAAC,OAAD;AAAA,oCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEGzB,aAAa,CAAC4B,OAFjB;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAKG5B,aAAa,CAAC6B,aAAd,CAA4BnB,MAA5B,GAAqC,CAArC,iBACC;AAAA,oCACE,QAAC,OAAD;AAAA,sCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE,QAAC,UAAD;AAAA,wBACGV,aAAa,CAAC6B,aAAd,CAA4BL,GAA5B,CAAiCM,WAAD,iBAC/B,QAAC,cAAD;AAAA,0BACGA,WAAW,CAACL;AADf,iBAAqBK,WAAW,CAACvB,KAAjC;AAAA;AAAA;AAAA;AAAA,sBADD;AADH;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA,0BANJ,eAmBE,QAAC,OAAD;AAAA,mCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAnBF,EAsBGP,aAAa,CAAC+B,mBAAd,CAAkCrB,MAAlC,GAA2C,CAA3C,IACCV,aAAa,CAAC+B,mBAAd,CAAkCP,GAAlC,CAAsC,CAACQ,MAAD,EAASzB,KAAT,kBACpC;AAAA,oCACE,QAAC,OAAD;AAAA,qCACE;AAAA,sCAAWyB,MAAM,CAACC,MAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE,QAAC,UAAD;AAAA,wBACGD,MAAM,CAACE,IAAP,CAAYV,GAAZ,CAAiBP,IAAD,iBACf,QAAC,cAAD;AAAA,0BACGA,IAAI,CAACQ;AADR,iBAAqBR,IAAI,CAACV,KAA1B;AAAA;AAAA;AAAA;AAAA,sBADD;AADH;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA,aAAW,GAAEyB,MAAM,CAACG,IAAK,IAAG5B,KAAM,EAAlC;AAAA;AAAA;AAAA;AAAA,kBADF,CAvBJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAuCE,QAAC,aAAD;AAAA,qBACGP,aAAa,CAACoC,kBAAd,CAAiC1B,MAAjC,GAA0C,CAA1C,iBACC;AAAA,oCACE,QAAC,OAAD;AAAA,sCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE,QAAC,UAAD;AAAA,wBACGV,aAAa,CAACoC,kBAAd,CAAiCZ,GAAjC,CAAsCP,IAAD,iBACpC,QAAC,cAAD;AAAA,0BACGA,IAAI,CAACoB,SAAL,CAAeZ;AADlB,iBAAqBR,IAAI,CAACoB,SAAL,CAAe9B,KAApC;AAAA;AAAA;AAAA;AAAA,sBADD;AADH;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA,0BAFJ,eAeE,QAAC,OAAD;AAAA,mCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAfF,eAkBE,QAAC,OAAD;AAAA,mCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAlBF,eAqBE,QAAC,UAAD;AAAA,sBACGP,aAAa,CAACsC,0BAAd,CAAyC5B,MAAzC,GAAkD,CAAlD,IACCV,aAAa,CAACsC,0BAAd,CAAyCd,GAAzC,CAA8Ce,MAAD,IAC3CA,MAAM,CAACL,IAAP,CAAYV,GAAZ,CACGP,IAAD;AAAA;;AAAA,qBACE,CAAAA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,+BAAAA,IAAI,CAAEoB,SAAN,oEAAiBZ,IAAjB,kBACE,QAAC,cAAD;AAAA,0BACGR,IADH,aACGA,IADH,2CACGA,IAAI,CAAEoB,SADT,qDACG,iBAAiBZ;AADpB,iBAAqBR,IAAI,CAACoB,SAAL,CAAe9B,KAApC;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA,aADF,CADF;AAFJ;AAAA;AAAA;AAAA;AAAA,kBArBF,EAkCGP,aAAa,CAACwC,aAAd,CAA4B9B,MAA5B,GAAqC,CAArC,iBACC;AAAA,oCACE,QAAC,OAAD;AAAA,sCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE,QAAC,UAAD;AAAA,wBACGV,aAAa,CAACwC,aAAd,CAA4BhB,GAA5B,CAAiCP,IAAD,iBAC/B,QAAC,cAAD;AAAA,0BACGA,IAAI,CAACQ;AADR,iBAAqBR,IAAI,CAACV,KAA1B;AAAA;AAAA;AAAA;AAAA,sBADD;AADH;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA,0BAnCJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAvCF;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YA7DJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA6JD,CAlNM;;GAAMb,K;UACMpB,c,EACEE,a,EAGGC,gB;;;KALXiB,K","sourcesContent":["import * as React from 'react';\nimport { useAppDispatch } from '../../helpers/hooks';\nimport { commonActions } from '../../store/slices/common';\nimport { useAllClasses, useDetailedClass } from '../../store/selectors/common';\nimport {\n  StyledContainer,\n  StyledStepsHeader,\n  StyledDetailHeader,\n  StyledStepsSubheader,\n  StyledSelect,\n  StyledRandomiseButton,\n  StyledStepContainer,\n  StyledDetails,\n  StyledP,\n  StyledList,\n  StyledListItem,\n  StyledButtonContainer,\n  StyledStepButton,\n  StyledRow,\n  StyledColumn,\n} from '../styles';\nimport { handleRandomise } from '../../helpers/randomise';\nimport { CommonModel, GenericComponentProps } from '../../types';\n\nexport const Class: React.FC<GenericComponentProps> = (props) => {\n  const dispatch = useAppDispatch();\n  const allClasses = useAllClasses();\n  const selectedClass = 'changeme';\n  const selectedSubClass = 'changeme';\n  const detailedClass = useDetailedClass();\n  const [allSubClasses, setAllSubClasses] = React.useState<\n    CommonModel[] | undefined\n  >([]);\n  const [displayClassDetails, setDisplayClassDetails] = React.useState(false);\n\n  // Need to set this to state so that it is accessible anywhere\n  const handleSelectedSubClass = (index: string) => {\n    const selectedSubClass = allSubClasses?.filter(\n      (subClass) => subClass.index === index\n    );\n    if (selectedSubClass && selectedSubClass.length > 0) {\n      props.setFieldValue('subClass', selectedSubClass[0].index);\n    }\n  };\n\n  const handleRandomClass = () => {\n    if (allClasses?.results) {\n      const randomClass = handleRandomise(allClasses?.results);\n      props.setFieldValue('class', randomClass.index);\n      dispatch(commonActions.getClassDetails({ index: randomClass.index }));\n    }\n  };\n\n  const handleSelectedClass = (index: string) => {\n    const selectedClass = allClasses?.results.filter(\n      (item) => item.index === index\n    );\n    if (selectedClass && selectedClass.length > 0) {\n      props.setFieldValue('class', selectedClass[0].index);\n      dispatch(\n        commonActions.getClassDetails({ index: selectedClass[0].index })\n      );\n    }\n  };\n\n  React.useEffect(() => {\n    dispatch(commonActions.getAllClasses());\n  }, [dispatch]);\n\n  React.useEffect(() => {\n    if (detailedClass?.subclasses) {\n      setAllSubClasses(detailedClass?.subclasses);\n      setDisplayClassDetails(true);\n    }\n    // from here, we need to get the subClasses object from the detailed class response and use that to populate the subClasses dropdown\n  }, [detailedClass]);\n\n  return (\n    <StyledStepContainer>\n      <StyledContainer>\n        <StyledStepsHeader>Step Two: Class</StyledStepsHeader>\n        <StyledStepsSubheader>\n          Select a class or{' '}\n          <StyledRandomiseButton onClick={() => handleRandomClass()}>\n            randomise\n          </StyledRandomiseButton>{' '}\n          it.\n        </StyledStepsSubheader>\n        <StyledSelect\n          component=\"select\"\n          value={selectedClass}\n          name=\"class\"\n          onChange={(e: any) => {\n            handleSelectedClass(e.target.value);\n          }}\n        >\n          <option value=\"\" disabled>\n            - - - -\n          </option>\n          {allClasses &&\n            allClasses?.results?.map((item) => (\n              <option key={item.index} value={item.index}>\n                {item.name}\n              </option>\n            ))}\n        </StyledSelect>\n\n        {allSubClasses && allSubClasses.length > 0 && (\n          <>\n            <StyledStepsSubheader>Select a subclass.</StyledStepsSubheader>\n            <StyledSelect\n              component=\"select\"\n              value={selectedSubClass}\n              name=\"subClass\"\n              onChange={(e: any) => {\n                handleSelectedSubClass(e.target.value);\n              }}\n            >\n              {allSubClasses.map((subClass) => (\n                <option key={subClass.index} value={subClass.index}>\n                  {subClass.name}\n                </option>\n              ))}\n            </StyledSelect>\n          </>\n        )}\n        <StyledButtonContainer>\n          <StyledStepButton onClick={props.handleStepBack}>\n            &#8592; Previous: Race\n          </StyledStepButton>\n          <StyledStepButton\n            onClick={props.handleStepForward}\n            disabled={!selectedClass}\n          >\n            Next: Ability scores &#8594;\n          </StyledStepButton>\n        </StyledButtonContainer>\n      </StyledContainer>\n      {detailedClass && displayClassDetails && (\n        <StyledColumn>\n          <StyledDetailHeader>{detailedClass.name}</StyledDetailHeader>\n          <StyledRow>\n            <StyledDetails>\n              <StyledP>\n                <strong>Hit points: </strong>\n                {detailedClass.hit_die}\n              </StyledP>\n              {detailedClass.proficiencies.length > 0 && (\n                <>\n                  <StyledP>\n                    <strong>Proficiencies</strong>:\n                  </StyledP>\n                  <StyledList>\n                    {detailedClass.proficiencies.map((proficiency) => (\n                      <StyledListItem key={proficiency.index}>\n                        {proficiency.name}\n                      </StyledListItem>\n                    ))}\n                  </StyledList>\n                </>\n              )}\n              <StyledP>\n                <strong>Proficiency choices:</strong>\n              </StyledP>\n              {detailedClass.proficiency_choices.length > 0 &&\n                detailedClass.proficiency_choices.map((choice, index) => (\n                  <div key={`${choice.type}-${index}`}>\n                    <StyledP>\n                      <i>Choose {choice.choose}:</i>\n                    </StyledP>\n                    <StyledList>\n                      {choice.from.map((item) => (\n                        <StyledListItem key={item.index}>\n                          {item.name}\n                        </StyledListItem>\n                      ))}\n                    </StyledList>\n                  </div>\n                ))}\n            </StyledDetails>\n            <StyledDetails>\n              {detailedClass.starting_equipment.length > 0 && (\n                <>\n                  <StyledP>\n                    <strong>Starting equipment</strong>:\n                  </StyledP>\n                  <StyledList>\n                    {detailedClass.starting_equipment.map((item) => (\n                      <StyledListItem key={item.equipment.index}>\n                        {item.equipment.name}\n                      </StyledListItem>\n                    ))}\n                  </StyledList>\n                </>\n              )}\n              <StyledP>\n                <strong>Starting equipment choices:</strong>\n              </StyledP>\n              <StyledP>\n                <i>Choose 1:</i>\n              </StyledP>\n              <StyledList>\n                {detailedClass.starting_equipment_options.length > 0 &&\n                  detailedClass.starting_equipment_options.map((option) =>\n                    option.from.map(\n                      (item) =>\n                        item?.equipment?.name && (\n                          <StyledListItem key={item.equipment.index}>\n                            {item?.equipment?.name}\n                          </StyledListItem>\n                        )\n                    )\n                  )}\n              </StyledList>\n              {detailedClass.saving_throws.length > 0 && (\n                <>\n                  <StyledP>\n                    <strong>Saving throws</strong>:\n                  </StyledP>\n                  <StyledList>\n                    {detailedClass.saving_throws.map((item) => (\n                      <StyledListItem key={item.index}>\n                        {item.name}\n                      </StyledListItem>\n                    ))}\n                  </StyledList>\n                </>\n              )}\n            </StyledDetails>\n          </StyledRow>\n        </StyledColumn>\n      )}\n    </StyledStepContainer>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}